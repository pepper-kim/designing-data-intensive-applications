## 발표 - Avro

- **목표:**
    - avro 를 설명하고, 데이터 모델로써 avro가 어떠한 쓸모가 있는지를 설명한다
    - 회사 내에서 avro가 쓰이는 방식을 간략하게 설명한다.
    - 실제 코드 내용으로 실행하는 영역까지는 하지 않는다.
<BR>

- **avro란?**
    - 아파치 소프트웨어 재단에서 개발한 오픈 소스 프로젝트로, 효율적인 데이터 직렬화와 역직렬화를 위해 설계됨.
<BR>

- **avro의 주요 특징**
    - **스키마 기반의 데이터 직렬화**
        - 데이터와 스키마(데이터 구조를 정의하는 JSON 형식의 문서)를 함께 저장하여, 데이터 구조의 명확한 정의와 함께 빠른 처리 속도를 보장
        - 스키마는 데이터와 함께 저장되거나 전송될 수 있음.
    - **바이너리 직렬화 방식**을 사용하여, 데이터 저장 공간을 최소화하고, 처리 속도를 최적화합니다.
        - 독자적인 데이터 직렬화 및 역직렬화 기술을 사용하여 데이터를 처리
        - JSON과 XML은 텍스트 기반 포맷으로, 인간이 읽을 수 있고 다양한 언어에서 널리 지원됨. but 대량의 데이터를 처리할 때는 Avro나 프로토콜 버퍼 같은 바이너리 포맷에 비해 비효율적임.
        
        =⇒ 데이터의 효율적인 저장과 전송이 중요한 애플리케이션에서 그 장점이 잘 드러남!
        
        - 빅데이터 처리 및 분석
        - 실시간 데이터 스트리밍(메시지 큐, 이벤트 로깅 시스템)
        - 웹 서비스 api
        - 데이터 교환 및 호환성이 중요한 시스템
    - **스키마 진화를 지원**하여, 데이터 구조가 시간에 따라 변경되어도 이전 버전의 데이터를 쉽게 처리할 수 있습니다.
        - 데이터의 일관성을 유지하고, 시스템 간의 통합을 용이하게 함
        - 데이터 처리의 효율성과 유연성을 크게 향상시킴
        - 그래도 필드가 추가되거나 제거될 때는 문제가 생기지 않을까?
            
            Avro는 스키마 진화 시 호환성을 유지하기 위해 다양한 ***호환성 모드***를 제공함. avro는 아래 3가지의 호환성을 모두 제공
            
            - **전진 호환성**은 새로운 소비자가 이전 버전의 스키마로 작성된 데이터를 읽을 수 있음을 의미
            - **후진 호환성**은 이전 버전의 소비자가 새로운 스키마로 작성된 데이터를 읽을 수 있음을 의미
            - **전체 호환성**은 전진 및 후진 호환성을 모두 제공
            
            물론 주의해야 할 필요 있음. 필드 제거 시 해당 필드에 저장된 데이터에 대한 접근이 불가능 해짐. 이전 데이터를 새 스키마로 읽을 때 해당 필드는 무시되거나 기본값으로 대체됨.
<BR>

- **데이터 모델로써 avro의 쓸모를 정리하면**
    - 효율적인 데이터 저장과 전송을 가능하게 함
    - 다양한 프로그래밍 언어 간의 호환성을 제공함
    - 빅데이터 처리 및 분산 시스템에서의 데이터 통합과 처리를 간소화함

<BR>

- **사용 사례**
    - **스키마 레지스트리** 라는 시스템과 함께 사용.
        → 카프카 클라이언트 사이에서 메시지의 스키마를 저장, 관리하는 웹 어플리케이션
        ![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FxzBTc%2FbtqDKpm4xz2%2FEJ5AUGZ5YelEX1ChiQucp0%2Fimg.png)
        (참고가 될만한 그림 - from [블로그](https://always-kimkim.tistory.com/entry/kafka101-schema-registry))
        
        - **함께 사용하면?**
            - **타입 안정성 보장**
                - 이는 데이터 소비자가 잘못된 데이터 타입으로 인한 오류를 방지할 수 있게 해줌!
            - **동적 스키마 진화 지원**
                - 서비스가 운영 중에도 스키마를 안전하게 업데이트하고 진화시킬 수 있게 해줌
            - **분산 시스템에서의 일관성 유지**
                - 동일한 데이터를 다룰 때, 분산 시스템 내의 모든 컴포넌트가 일관된 스키마 버전을 사용하고 있음을 보장
    - **버전 관리**를 통해 관리
        - git repository로 관리..!